(this["webpackJsonptokyo-white-react-admin-dashboard-js"]=this["webpackJsonptokyo-white-react-admin-dashboard-js"]||[]).push([[111],{1527:function(e,n,t){"use strict";t.r(n);var a=t(13),c=t.n(a),r=t(21),i=t(6),o=t(1),l=t(678),s=t(203),d=t(279),u=t(1422),b=t(973),j=t(1111),h=t(1113),p=t(1114),f=t(4),m=t(41),O=t(46),v=t(1119),x=t(653),g=t(278),y=t(378),k=t(660),w=t(283),C=t(293),D=t(57),E=t(201),T=t(134),A=t(336),S=t.n(A),M=t(0),I=function(e){var n=e.handleCreateEvent,t=Object(T.a)().t;return Object(M.jsxs)(x.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(M.jsxs)(x.a,{item:!0,children:[Object(M.jsx)(D.a,{variant:"h3",component:"h3",gutterBottom:!0,children:t("Events")}),Object(M.jsx)(D.a,{variant:"subtitle2",children:t("Check out the latest events and meetings in your calendar")})]}),Object(M.jsx)(x.a,{item:!0,children:Object(M.jsx)(E.a,{sx:{mt:{xs:2,md:0}},onClick:n,variant:"contained",color:"primary",startIcon:Object(M.jsx)(S.a,{fontSize:"small"}),children:t("Add meeting")})})]})};I.defaultProps={handleCreateEvent:function(){}};var W=I,P=t(372),V=t(153),B=t(578),z=t(1118),R=t.n(z),F=t(1117),G=t.n(F),N=t(1116),q=t.n(N),J=t(768),H=t.n(J),K=t(901),L=t.n(K),Q=t(204),U=t.n(Q),X=t(734),Y=t.n(X),Z=[{label:"Month",value:"dayGridMonth",icon:q.a},{label:"Week",value:"timeGridWeek",icon:H.a},{label:"Day",value:"timeGridDay",icon:G.a},{label:"Agenda",value:"listWeek",icon:R.a}],$=function(e){var n=e.date,t=e.onNext,a=e.onPrevious,c=e.onToday,r=e.changeView,i=e.view,o=Object(T.a)().t;return Object(M.jsxs)(x.a,{container:!0,spacing:3,alignItems:"center",justifyContent:"space-between",children:[Object(M.jsxs)(x.a,{item:!0,children:[Object(M.jsx)(V.a,{arrow:!0,placement:"top",title:o("Previous Day"),children:Object(M.jsx)(B.a,{color:"primary",onClick:a,children:Object(M.jsx)(Y.a,{})})}),Object(M.jsx)(V.a,{arrow:!0,placement:"top",title:o("Today"),children:Object(M.jsx)(B.a,{color:"primary",sx:{mx:1},onClick:c,children:Object(M.jsx)(L.a,{})})}),Object(M.jsx)(V.a,{arrow:!0,placement:"top",title:o("Next Day"),children:Object(M.jsx)(B.a,{color:"primary",onClick:t,children:Object(M.jsx)(U.a,{})})})]}),Object(M.jsx)(x.a,{item:!0,sx:{display:{xs:"none",sm:"inline-block"}},children:Object(M.jsx)(D.a,{variant:"h3",color:"text.primary",children:Object(P.a)(n,"MMMM yyyy")})}),Object(M.jsx)(x.a,{item:!0,sx:{display:{xs:"none",sm:"inline-block"}},children:Z.map((function(e){var n=e.icon;return Object(M.jsx)(V.a,{arrow:!0,placement:"top",title:o(e.label),children:Object(M.jsx)(B.a,{color:e.value===i?"primary":"secondary",onClick:function(){return r(e.value)},children:Object(M.jsx)(n,{})})},e.value)}))})]})};$.defaultProps={onNext:function(){},onPrevious:function(){},onToday:function(){},handleCreateEvent:function(){},changeView:function(){}};var _=$,ee=t(16),ne=t(341),te=t(342),ae=t(629),ce=t(86),re=t.n(ce),ie=t(70),oe=t(164),le=t(281),se=t(686),de=t.n(se),ue=t(375),be=t(823),je=t(180),he=t(277),pe=t(275),fe=t(379),me=t(274),Oe=t(1499),ve=Object(f.a)(B.a)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.lighter,";\n     color: ").concat(n.colors.error.main,";\n\n     &:hover {\n      background: ").concat(Object(ue.e)(n.colors.error.lighter,.4),";\n     }\n")})),xe=Object(f.a)(g.a)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.alpha.black[5],";\n     box-shadow: none;\n     margin: 0 ").concat(n.spacing(3),";\n")})),ge=function(e,n){return e?re.a.merge({},{allDay:!1,color:"",description:"",end:Object(ne.a)(Object(te.a)(Object(ae.a)(new Date,3),30),10),start:Object(ne.a)(Object(te.a)(Object(ae.a)(new Date,3),60),8),title:"",submit:null},e):n?re.a.merge({},{allDay:!1,color:"",description:"",end:new Date(n.end),start:new Date(n.start),title:"",submit:null},e):{allDay:!1,color:"",description:"",end:Object(ne.a)(Object(te.a)(Object(ae.a)(new Date,1),35),20),start:Object(ne.a)(Object(te.a)(Object(ae.a)(new Date,1),25),17),title:"",submit:null}},ye=function(e){var n=e.event,t=e.onAddComplete,a=e.onCancel,i=e.onDeleteComplete,o=e.onEditComplete,l=e.range,s=Object(w.b)(),d=Object(le.b)().enqueueSnackbar,u=!n,b=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s(Object(C.c)(n.id)),i(),d(j("The event has been deleted"),{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"},TransitionComponent:be.a})}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(T.a)().t;return Object(M.jsx)(oe.c,{initialValues:ge(n,l),validationSchema:ie.d().shape({allDay:ie.a(),description:ie.f().max(5e3),end:ie.c().when("start",(function(e,n){return e&&n.min(e,j("The end date should be after start date"))})),start:ie.c(),title:ie.f().max(255).required(j("The title field is required"))}),onSubmit:function(){var e=Object(r.a)(c.a.mark((function e(a,r){var i,l,b,h,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.resetForm,l=r.setErrors,b=r.setStatus,h=r.setSubmitting;try{p={allDay:a.allDay,description:a.description,end:a.end,start:a.start,title:a.title},s(n?Object(C.i)(n.id,p):Object(C.b)(p)),i(),b({success:!0}),h(!1),d(j("The calendar has been successfully updated!"),{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"},TransitionComponent:be.a}),u?t():o()}catch(c){console.error(c),b({success:!1}),l({submit:c.message}),h(!1)}case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,t=e.handleBlur,c=e.handleChange,r=e.handleSubmit,i=e.isSubmitting,o=e.setFieldValue,l=e.touched,s=e.values;return Object(M.jsxs)("form",{onSubmit:r,children:[Object(M.jsx)(m.a,{p:3,children:Object(M.jsx)(D.a,{variant:"h4",children:j(u?"Create new calendar event":"Edit calendar event")})}),Object(M.jsx)(y.a,{}),Object(M.jsxs)(m.a,{px:3,py:2,children:[Object(M.jsx)(je.a,{error:Boolean(l.title&&n.title),fullWidth:!0,helperText:l.title&&n.title,label:j("Event title"),name:"title",margin:"normal",onBlur:t,onChange:c,value:s.title,variant:"outlined"}),Object(M.jsx)(je.a,{error:Boolean(l.description&&n.description),fullWidth:!0,multiline:!0,minRows:3,helperText:l.description&&n.description,label:j("Event description"),name:"description",margin:"normal",onBlur:t,onChange:c,value:s.description,variant:"outlined"}),Object(M.jsx)(he.a,{control:Object(M.jsx)(pe.a,{checked:s.allDay,onChange:c,name:"allDay",color:"primary"}),label:j("This event lasts all day")}),Object(M.jsxs)(x.a,{container:!0,spacing:3,children:[Object(M.jsx)(x.a,{item:!0,xs:12,md:6,children:Object(M.jsx)(Oe.a,{value:s.start,onChange:function(e){return o("start",e)},label:j("Event start date"),renderInput:function(e){return Object(M.jsx)(je.a,Object(ee.a)(Object(ee.a)({},e),{},{margin:"normal",variant:"outlined",fullWidth:!0,name:"start"}))}})}),Object(M.jsx)(x.a,{item:!0,xs:12,md:6,children:Object(M.jsx)(Oe.a,{value:s.end,onChange:function(e){return o("end",e)},label:j("Event end date"),renderInput:function(e){return Object(M.jsx)(je.a,Object(ee.a)(Object(ee.a)({},e),{},{margin:"normal",variant:"outlined",fullWidth:!0,name:"end"}))}})})]}),Boolean(l.end&&n.end)&&Object(M.jsx)(fe.a,{sx:{mt:2,mb:1},severity:"error",children:n.end})]}),Object(M.jsxs)(xe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2},children:[Object(M.jsx)(m.a,{children:!u&&Object(M.jsx)(V.a,{arrow:!0,title:j("Delete this event"),children:Object(M.jsx)(ve,{onClick:function(){return b()},children:Object(M.jsx)(de.a,{})})})}),Object(M.jsxs)(m.a,{children:[Object(M.jsx)(E.a,{variant:"outlined",sx:{mr:1},color:"secondary",onClick:a,children:j("Cancel")}),Object(M.jsx)(E.a,{variant:"contained",type:"submit",startIcon:i?Object(M.jsx)(me.a,{size:"1rem"}):null,disabled:i,color:"primary",children:j(u?"Add meeting":"Save modifications")})]})]})]})}})};ye.defaultProps={onAddComplete:function(){},onCancel:function(){},onDeleteComplete:function(){},onEditComplete:function(){}};var ke=ye,we=Object(f.a)(m.a)((function(e){var n=e.theme;return"\n    padding: ".concat(n.spacing(3),";\n\n    & .fc-license-message {\n      display: none;\n    }\n    .fc {\n\n      .fc-col-header-cell {\n        padding: ").concat(n.spacing(1),";\n        background: ").concat(n.colors.alpha.black[5],";\n      }\n\n      .fc-scrollgrid {\n        border: 2px solid ").concat(n.colors.alpha.black[10],";\n        border-right-width: 1px;\n        border-bottom-width: 1px;\n      }\n\n      .fc-cell-shaded,\n      .fc-list-day-cushion {\n        background: ").concat(n.colors.alpha.black[5],";\n      }\n\n      .fc-list-event-graphic {\n        padding-right: ").concat(n.spacing(1),";\n      }\n\n      .fc-theme-standard td, .fc-theme-standard th,\n      .fc-col-header-cell {\n        border: 1px solid ").concat(n.colors.alpha.black[10],";\n      }\n\n      .fc-event {\n        padding: ").concat(n.spacing(.1)," ").concat(n.spacing(.3),";\n      }\n\n      .fc-list-day-side-text {\n        font-weight: normal;\n        color: ").concat(n.colors.alpha.black[70],";\n      }\n\n      .fc-list-event:hover td,\n      td.fc-daygrid-day.fc-day-today {\n        background-color: ").concat(n.colors.primary.lighter,";\n      }\n\n      td.fc-daygrid-day:hover,\n      .fc-highlight {\n        background: ").concat(n.colors.alpha.black[10],";\n      }\n\n      .fc-daygrid-dot-event:hover, \n      .fc-daygrid-dot-event.fc-event-mirror {\n        background: ").concat(n.colors.primary.lighter,";\n      }\n\n      .fc-daygrid-day-number {\n        padding: ").concat(n.spacing(1),";\n        font-weight: bold;\n      }\n\n      .fc-list-sticky .fc-list-day > * {\n        background: ").concat(n.colors.alpha.black[5]," !important;\n      }\n\n      .fc-cell-shaded, \n      .fc-list-day-cushion {\n        background: ").concat(n.colors.alpha.black[10]," !important;\n        color: ").concat(n.colors.alpha.black[70]," !important;\n      }\n\n      &.fc-theme-standard td, \n      &.fc-theme-standard th,\n      &.fc-theme-standard .fc-list {\n        border-color: ").concat(n.colors.alpha.black[30],";\n      }\n    }\n")})),Ce=function(e){var n=e.calendar,t=n.events,a=n.selectedEventId;return a?t.find((function(e){return e.id===a})):null};n.default=function(){var e=Object(O.a)(),n=Object(o.useRef)(null),t=Object(v.a)(e.breakpoints.down("md")),a=Object(w.b)(),f=Object(w.c)((function(e){return e.calendar})),D=f.events,E=f.isDrawerOpen,T=f.selectedRange,A=Object(w.c)(Ce),S=Object(o.useState)(new Date),I=Object(i.a)(S,2),P=I[0],V=I[1],B=Object(o.useState)(t?"listWeek":"dayGridMonth"),z=Object(i.a)(B,2),R=z[0],F=z[1],G=function(){var e=Object(r.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.event,e.prev=1,e.next=4,a(Object(C.i)(t.id,{allDay:t.allDay,start:t.start,end:t.end}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.event;try{a(Object(C.i)(t.id,{allDay:t.allDay,start:t.start,end:t.end}))}catch(c){console.error(c)}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),q=function(){a(Object(C.a)())};return Object(o.useEffect)((function(){a(Object(C.d)())}),[a]),Object(o.useEffect)((function(){var e=n.current;if(e){var a=e.getApi(),c=t?"listWeek":"dayGridMonth";a.changeView(c),F(c)}}),[t]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(s.a,{children:Object(M.jsx)("title",{children:"Calendar - Applications"})}),Object(M.jsx)(l.a,{children:Object(M.jsx)(W,{handleCreateEvent:function(){a(Object(C.e)())}})}),Object(M.jsx)(x.a,{sx:{px:4},container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:4,children:Object(M.jsx)(x.a,{item:!0,xs:12,children:Object(M.jsxs)(g.a,{children:[Object(M.jsx)(m.a,{p:3,children:Object(M.jsx)(_,{date:P,onNext:function(){var e=n.current;if(e){var t=e.getApi();t.next(),V(t.getDate())}},onPrevious:function(){var e=n.current;if(e){var t=e.getApi();t.prev(),V(t.getDate())}},onToday:function(){var e=n.current;if(e){var t=e.getApi();t.today(),V(t.getDate())}},changeView:function(e){var t=n.current;t&&(t.getApi().changeView(e),F(e))},view:R})}),Object(M.jsx)(y.a,{}),Object(M.jsx)(we,{children:Object(M.jsx)(u.a,{allDayMaintainDuration:!0,initialDate:P,initialView:R,droppable:!0,editable:!0,eventDisplay:"block",eventClick:function(e){a(Object(C.g)(e.event.id))},eventDrop:N,dayMaxEventRows:4,eventResizableFromStart:!0,eventResize:G,events:D,headerToolbar:!1,height:660,ref:n,rerenderDelay:10,select:function(e){var t=n.current;t&&t.getApi().unselect();a(Object(C.h)(e.start,e.end))},selectable:!0,weekends:!0,plugins:[b.b,j.a,h.a,p.a]})})]})})}),Object(M.jsx)(d.a,{}),Object(M.jsx)(k.a,{variant:"temporary",anchor:"rtl"===e.direction?"left":"right",onClose:q,open:E,elevation:9,children:E&&Object(M.jsx)(ke,{event:A,range:T,onAddComplete:q,onCancel:q,onDeleteComplete:q,onEditComplete:q})})]})}},678:function(e,n,t){"use strict";var a=t(4),c=t(41),r=t(0),i=Object(a.a)(c.a)((function(e){var n=e.theme;return"\n        padding: ".concat(n.spacing(4),";\n")}));n.a=function(e){var n=e.children;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(i,{className:"MuiPageTitle-wrapper",children:n})})}}}]);
//# sourceMappingURL=111.a09f1b90.chunk.js.map